### Java包装类型知识总结

#### 1. **包装类型与基本类型的对应关系**

Java为每个基本数据类型提供了对应的包装类，用于对象化操作：

- `byte` → `Byte`
- `short` → `Short`
- `int` → `Integer`
- `long` → `Long`
- `float` → `Float`
- `double` → `Double`
- `char` → `Character`
- `boolean` → `Boolean`

#### 2. **包装类型的作用**

- **对象化操作**：允许基本类型参与面向对象的场景（如集合类、泛型）。
- **提供工具方法**：如类型转换、进制转换、最大值/最小值常量等。
- **支持`null`值**：表示缺失值（如数据库字段可能为`null`）。
- **自动装箱与拆箱**（Java 5+）：简化基本类型与包装类的转换。

#### 3. **常用方法**

- **静态方法**：
    - `valueOf()`：创建包装对象（优先使用缓存）。
    - `parseXxx(String)`：将字符串转换为基本类型（如`Integer.parseInt("123")`）。
    - `toString()`：基本类型或对象转字符串。
- **实例方法**：
    - `xxxValue()`：返回对应的基本类型值（如`intValue()`）。
    - `compareTo()`：比较两个同类型对象的值。

#### 4. **缓存机制**

- **默认缓存范围**：
    - `Integer`：-128 ~ 127（可通过`-XX:AutoBoxCacheMax`扩展上限）。
    - `Byte`、`Short`、`Long`：-128 ~ 127。
    - `Character`：0 ~ 127（ASCII字符）。
    - `Boolean`：`TRUE`和`FALSE`两个实例。
- **缓存实现**：使用`valueOf()`或自动装箱时优先返回缓存对象，而非`new`创建新对象。

#### 5. **自动装箱与拆箱**

- **装箱**：基本类型 → 包装对象（如 `Integer i = 10;`）。
- **拆箱**：包装对象 → 基本类型（如 `int n = i;`）。
- **注意事项**：
    - 性能开销：频繁装箱/拆箱可能影响性能（如循环内大量操作）。
    - 空指针异常：拆箱`null`对象会抛出`NullPointerException`。

#### 6. **比较操作**

- **`==`与`equals()`**：
    - `==`比较对象内存地址（仅在缓存范围内相等）。
    - `equals()`比较实际值（推荐使用）。
- **示例**：
  ```java
  Integer a = 100, b = 100;
  System.out.println(a == b); // true（缓存范围内）
  
  Integer c = 200, d = 200;
  System.out.println(c == d); // false（超出缓存）
  System.out.println(c.equals(d)); // true
  ```

#### 7. **应用场景**

- **集合类**：如`List<Integer>`、`Map<String, Boolean>`。
- **泛型编程**：如`Optional<Integer>`。
- **数据库操作**：表示可能为`null`的字段。
- **反射API**：需要对象类型参数。

#### 8. **注意事项**

- **不可变性**：包装类对象一旦创建，值不可更改。
- **构造方法过时**：Java 9+后`new Integer()`已废弃，推荐`valueOf()`或自动装箱。
- **类型转换**：不同包装类之间需拆箱再装箱（如`Long.valueOf(integerObj.intValue())`）。
- **性能敏感场景**：优先使用基本类型，减少对象开销。

#### 9. **示例代码**

```java
// 自动装箱与拆箱
Integer num = 42; // 自动装箱
int val = num;    // 自动拆箱

// 字符串转基本类型
int parsed = Integer.parseInt("123");

// 比较
Integer x = 128, y = 128;
System.out.println(x.equals(y)); // true（值相等）
System.out.println(x == y);       // false（不同对象）

// 使用缓存
Integer a = Integer.valueOf(100); // 返回缓存对象
Integer b = new Integer(100);     // 创建新对象（不推荐）
```

#### 10. **总结**

包装类型是Java面向对象设计中不可或缺的部分，理解其缓存机制、自动装箱拆箱及比较规则，能有效避免常见陷阱（如NPE、性能问题）。在需要对象化操作或处理`null`
值时使用包装类，性能敏感场景优先使用基本类型。